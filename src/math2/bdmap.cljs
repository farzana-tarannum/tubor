(ns math2.bdmap)

(defn test-map []
  (let []
    [:svg {:viewBox "0 0 500 700"}
     [:rect {:width "400"
             :height "600"
             :x 100
             :y 100}]]))

(defn bd-map []
  (let []
    [:g

     [:path {:d "m 188.20014,52.038408 c 5.24283,0.138047 0.31509,6.755095 4.56552,6.902369 4.25043,0.147285 5.63905,0.813293 5.63905,0.813293 0,0 3.61597,4.852523 3.54328,6.868852 -0.0727,2.016329 -1.18034,10.524195 2.02393,11.781986 3.20427,1.25779 0.92253,-3.406812 3.24839,-1.931726 2.32585,1.475083 -1.23521,4.767654 -1.23521,4.767654 l 2.9618,2.825598 -5.23266,11.512298 c 0,0 -1.52211,-11.832927 0,0 1.5221,11.832928 6.5286,25.184138 4.25633,26.545238 -2.27228,1.36111 0.40391,16.63121 -3.06001,18.44599 -3.46392,1.81478 0.24732,14.52882 2.66613,14.67082 2.41882,0.142 3.32013,-5.75856 5.62072,-3.7973 2.30059,1.96126 16.20803,9.913 17.44372,10.09905 1.23568,0.18605 11.42132,3.20674 14.45937,2.31569 3.03807,-0.89105 2.83141,4.75327 9.45974,5.83295 6.62836,1.07967 11.54736,-2.31286 11.93683,-2.38708 0.38946,-0.0742 12.53197,-2.35519 22.4869,0.59991 9.95493,2.95509 9.47839,4.63382 9.62837,1.50593 0.15,-3.12789 21.34092,-5.46896 21.34092,-5.46896 0,0 26.78497,-0.14825 25.6138,4.37801 -1.17117,4.52626 13.47732,1.14399 16.95201,-1.87074 3.47469,-3.01472 3.80984,9.50301 10.71253,5.41893 6.90267,-4.08407 25.26938,-9.71855 32.01278,-6.94159 6.74343,2.77696 17.66936,8.63679 16.54705,9.81247 -1.12228,1.17568 -2.78316,1.09102 7.34517,1.02885 10.12836,-0.0622 3.15009,2.43579 1.0145,3.87112 -2.13557,1.43533 9.50852,7.42696 9.50852,7.42696 0,0 13.68424,9.95515 7.17015,10.73325 -6.51412,0.7781 -10.81243,5.1568 -13.84185,2.89427 -3.02943,-2.26254 -3.32791,-9.04783 -6.45723,-5.20378 -10.61258,13.0365 -3.17567,15.46279 -3.67995,16.74387 -0.56416,1.43321 -6.41321,17.08653 -5.20421,19.52909 1.209,2.44256 -6.51196,6.49594 -6.51196,6.49594 0,0 5.00624,14.01674 -3.05354,14.53202 -8.05981,0.51529 -3.30179,7.88212 -8.37448,5.94234 -5.07271,-1.93981 -7.35026,-2.11355 -5.24359,5.44712 2.10664,7.56069 -3.26203,18.04059 -8.79596,11.49738 -5.5339,-6.5432 -7.74362,-12.74217 -7.61876,1.27693"
             :style {:fill "none"
                     :stroke-width "2px"
                     :stroke "#000000"}
             }]
     [:path {:style {:fill "none"
                     :stroke-width "2px"
                     :stroke "#000000"}
             :d "m 378.04824,276.95341 c 0,0 -4.4229,0.50204 -8.59031,-5.86798 -4.1674,-6.37005 4.93491,10.24812 -4.3204,13.21869 -9.25531,2.9706 -21.17074,-7.99802 -20.77486,-0.82888 0.3959,7.16912 -13.98319,16.27002 -11.49395,19.51052 2.48924,3.2405 0.23,21.34305 -4.03974,19.79274 -4.26976,-1.55031 -4.74181,10.08353 0.58374,10.08353 5.32552,0 13.58114,62.78557 13.58114,62.78557 l 4.50905,1.49378 c 0,0 -4.30631,-21.96242 -1.68936,-21.81212 2.61695,0.15024 10.56481,7.329 9.50638,9.87131 -1.05843,2.54231 3.40355,11.10829 3.38962,13.1242 -0.0143,2.01592 6.365,14.42435 8.49764,11.21114 2.13262,-3.21324 18.70753,-6.24407 17.53779,-15.78629 -1.16974,-9.54224 -5.46338,-17.02819 -5.46338,-17.02819 0,0 9.411,-20.88907 12.05952,-20.46847 2.64853,0.42059 8.34598,-5.05015 4.108,-24.31662 -4.23795,-19.26648 8.94434,0.72704 8.94434,0.72704 0,0 9.78647,-9.68902 11.40195,-9.38893 1.61545,0.30012 3.30362,10.12539 5.30609,9.07122 2.00246,-1.05417 -0.71552,-9.18845 2.77215,-7.44126 3.48769,1.74719 5.24019,2.26635 4.16985,4.20402 -1.07033,1.93767 -0.14151,24.66865 2.61736,26.57243 5.21456,3.59836 5.64672,26.7049 2.05669,27.53543 -1.90238,0.4401 -0.0303,20.03032 3.51276,28.01517 0.28323,0.6383 5.69094,1.75396 5.56177,5.41236 -0.38315,10.85216 11.64218,21.57283 7.96273,27.84521 -3.50501,5.97501 12.79456,53.2898 8.45441,53.18259 h -0.25476 c 0,0 4.34316,-2.0859 0,0 -4.34319,2.08591 4.71904,28.03534 2.80231,29.89481 -1.91672,1.85948 -2.42874,43.1455 0.10547,43.94191 2.53434,0.7964 1.17743,17.85074 5.09943,17.91081 3.92202,0.06 -7.16112,4.33974 -7.16112,4.33974 0,0 -3.00259,-13.52934 -5.29343,-12.81372 -2.29085,0.71564 -5.86019,1.50679 -5.86019,1.50679 0,0 1.55293,0.7104 0,0 -1.55293,-0.71041 -3.24536,2.89874 -4.68397,-2.07155 -1.4386,-4.97031 -2.50972,-13.78005 -9.54929,-6.58638 -7.03955,7.19364 -6.07357,7.51924 -6.07357,7.51924 0,0 -8.26436,8.78828 -5.60807,23.49614 2.65631,14.70783 18.41047,42.29921 12.23964,44.61055 -6.17083,2.31133 -10.34283,-26.02041 -18.84774,-35.99967 -8.50493,-9.97926 -7.58052,-12.81605 -8.05536,-18.83981 -0.47483,-6.02376 -7.0889,-26.87548 -3.5653,-44.38883"
             }]
     [:path {:d "m 188.20014,52.038408 c -5.56223,28.823943 -1.3758,19.934014 -5.98813,28.823943 -1.34536,2.593076 -0.22103,-5.741644 -4.07317,-4.498933 -12.56486,4.053454 -25.57569,-12.479986 -31.89042,-14.666753 -2.73731,-0.947922 -2.13072,-3.458485 -2.75349,-6.392174 -1.43112,-6.741676 -0.76201,-16.039588 -0.76201,-16.039588 l -4.80092,-3.064762 0.43685,-2.622512 c 0,0 -9.94806,-6.032148 -9.54433,-6.929941 0.40372,-0.897793 -4.03834,5.670631 -4.16715,8.070891 -0.1288,2.400259 13.91184,12.237479 11.92676,12.792248 -1.98507,0.554771 -1.2257,3.125514 -1.88373,3.769421 -0.65803,0.64391 -11.23693,-4.026419 -10.59702,-5.675036 0.63991,-1.648616 -5.42498,3.633074 -4.59388,4.427005 0.8311,0.793929 -7.01213,-6.317395 -5.93455,-7.095262 1.07757,-0.777867 -8.00567,3.430493 -9.41032,3.84405 -1.40464,0.413557 -0.80237,-2.847052 -0.80237,-2.847052"
             :style {:fill "none"
                     :stroke-width "2px"
                     :stroke "#000000"}}]
     [:path {:style {:fill "none"
                     :stroke-width "2px"
                     :stroke "#000000"}
             :d "m 103.36226,43.933953 c 6.06898,-3.843376 5.70996,-7.002779 5.25011,-6.886805 -0.45985,0.115976 -9.6869,-8.340703 -7.59046,-9.279729 2.09644,-0.939024 -1.168159,0.576743 -1.865254,-0.558571 -0.697093,-1.135314 3.585754,-2.323512 -0.885067,-2.966343 C 93.80077,23.599674 87.08156,17.964939 84.577641,15.990129 82.07372,14.01532 83.136367,5.2803227 80.783677,6.4299693 78.430986,7.579616 71.656055,27.893369 75.387293,25.281031 c 3.731236,-2.612338 7.09401,-1.223886 7.09401,-1.223886 0,0 11.213543,11.758336 7.359164,12.060417 -3.854381,0.302081 -18.062852,10.1587 -16.767057,15.625281 1.295798,5.466581 -7.21275,-4.259824 -13.165955,6.514774 -5.953205,10.7746 5.785765,9.259648 -4.963983,17.334246 -10.749748,8.074597 0.69269,23.303124 0.69269,23.303124 0,0 7.560862,-2.116096 9.286584,-3.017427 1.725719,-0.901331 2.666826,7.85861 17.244705,15.87877 14.577878,8.02015 10.440252,22.19936 19.821949,22.10444 9.3817,-0.0949 13.02702,0.85682 15.04951,9.2776 2.02249,8.42077 12.43395,6.49573 13.72483,7.73407 1.29088,1.23834 -5.3399,13.32821 -4.66597,15.77239 0.67394,2.44418 -9.3595,-2.81079 -9.3595,-2.81079 0,0 1.26791,2.83398 -4.98371,3.88781 -6.25161,1.05382 -8.34714,-9.76051 -17.692426,-2.35407 -9.345283,7.40644 -10.333148,-17.76656 -12.637348,13.93079 -2.304202,31.69736 -14.747402,15.24013 -20.978245,11.5375 -6.230843,-3.70263 -6.607112,12.22857 -6.607112,12.22857 0,0 4.777357,-9.09492 0.104833,0.17424 -4.672519,9.26916 -9.561333,15.01706 -9.561333,15.01706 0,0 8.966631,18.8647 4.798343,19.22566 -4.168288,0.36095 31.04056,13.09635 36.924593,21.65578 5.884036,8.55941 17.345245,0.37462 17.345245,0.37462 0,0 0.98941,30.61841 3.8973,31.86219 2.90789,1.24379 0.38465,7.275 -1.98982,13.01324 -2.37446,5.73826 -10.174015,0.81457 -11.806199,6.13638 -1.632183,5.32179 -1.589943,24.18284 -1.589943,24.18284 0,0 10.557762,18.4029 13.862332,17.42202 3.30457,-0.98088 2.61184,-8.29064 3.97072,-4.5936 1.35888,3.69705 -3.37039,22.3941 -6.20708,24.0795 -2.83669,1.68539 4.98769,8.00831 7.67707,7.38805 2.68938,-0.62024 17.97309,0.38707 16.03268,3.09676 -1.9404,2.70967 -11.18913,4.06105 -10.77094,15.30439 0.4182,11.2433 12.74217,27.34316 8.62052,29.90466 -4.12165,2.5615 0.97757,24.3385 -3.37776,26.89186 -4.35532,2.55338 7.95574,20.42726 8.77,32.84743 0.81426,12.42014 7.01299,30.81521 4.33531,32.5949 -2.67767,1.77969 -7.41742,14.35186 -3.61497,18.05648 3.80245,3.70462 8.67746,16.43252 8.67746,16.43252 0,0 -15.75599,11.23562 -23.61911,-1.15388 -7.86312,-12.38947 -3.11571,9.98095 -9.22339,9.03617 -6.10767,-0.94479 -7.831892,-0.36745 -6.81093,-4.1161 1.02097,-3.74862 -1.66664,-19.51904 -0.11016,-27.63112 1.55648,-8.11207 8.29843,-17.86507 6.43165,-19.87909 -1.86678,-2.01402 0.19657,-3.82855 -3.52071,-2.09445 -3.717282,1.73409 -9.102289,27.82759 -7.343475,28.1934 1.758814,0.36579 -3.183883,16.81955 -3.795386,18.94857 -0.611502,2.12903 -5.853521,4.52519 -4.271202,6.78717 1.582317,2.26195 -14.784303,13.29088 -9.175879,0.27986 5.608422,-13.01103 1.192305,-15.60419 3.621891,-20.58541 2.429583,-4.98121 6.900952,-14.96807 0.65264,-13.54776 -6.248312,1.42033 -2.8477,13.02164 -4.486507,20.26662 -1.638807,7.24498 -3.544474,13.60433 -5.645664,10.69398 -2.101191,-2.91039 -1.092179,-14.64579 -1.650965,-18.64079 -0.558783,-3.995 -0.128404,9.128 -5.477102,15.51788 -5.348693,6.38988 0.628017,5.63129 -6.192457,5.53307 -6.820472,-0.0983 -3.552915,-14.81369 -4.125974,-21.99559 -0.57306,-7.18191 -3.481486,-16.10586 -4.331626,-12.64093 -0.850138,3.4649 -0.814248,24.07052 -0.802779,26.59667 0.01143,2.52611 -8.512319,3.69073 -9.718038,-2.53534 -1.205719,-6.22607 3.906998,-21.19259 6.999162,-24.388 3.092162,-3.19538 3.092162,-3.19538 3.092162,-3.19538 0,0 0.977469,-18.93245 6.585157,-19.11931 5.607691,-0.1869 3.156479,-12.82757 -7.493298,-15.08959 -10.649778,-2.262 -18.14995,-9.98519 -17.299893,-18.29569 0.850058,-8.3105 -4.830454,-10.22317 -3.366959,-5.24931 1.463495,4.97388 1.326845,21.05161 6.219412,22.63031 4.892567,1.57869 14.997819,5.18061 13.698536,5.14028 -1.299284,-0.0402 10.698257,3.45755 -1.877041,15.14953 -12.575298,11.69197 -14.618524,28.76342 -17.764983,24.97152 -3.14646,-3.79191 -7.064156,12.60281 -15.743191,13.99381 -8.6790352,1.391 -13.75941986,2.20743 -12.90961095,1.43347"}
      ]
     [:path {:d "m 403.50327,550.19165 c -19.25053,-58.17936 -8.91772,-46.16886 -19.25053,-58.17936 -10.33278,-12.0105 -12.39007,-62.65964 -34.04152,-64.63357 -21.65146,-1.97393 -16.01205,-0.30822 -16.88636,2.14228 -0.87433,2.45048 3.88057,5.502 3.88057,5.502 l -2.66428,4.24336 c 0,0 -33.19948,-19.93024 -31.98105,-20.49643 1.21845,-0.56619 -9.47436,-1.89009 -12.7046,0.0462 -3.23024,1.93626 -14.64719,-16.56205 -14.64719,-16.56205"
             :style {:fill "none"
                     :stroke-width "2px"
                     :stroke "#000000"}}] ]))




(defn stat1 []
  (let [[mp & np :as points]
        [[0 10] [10 40]
         [40 30] [60 5]
         [90 45] [120 10]
         [150 45] [200 10]]
        m (fn [[x y]]
            (str  "M" " "
                  (first (first points))
                  ","
                  (second (first points))
                  " "))
        line-cmd (fn [[x y] index]
                   (str "L "
                        x
                        ","
                        y
                        " "))
        line (fn [[x1 y1] [x2 y2]]
               (let [lx (if (> x2 x1)
                          (- x2 x1)
                          (- x1 x2))
                     ly (if (> y2 y1)
                          (- y2 y1)
                          (- y1 y2))]
                 [(js/Math.sqrt
                            (+
                             (* lx lx)
                             (* ly ly)))
                  (js/Math.atan2 ly lx)]))
        control-point (fn [current previous next1 reverse1]
                        (let [p (if previous  previous current)
                              n (if next1 next1 current)
                              [x y] current
                              smoothing 0.2
                              [angle-t length-t] (line p n)
                              angle (+ angle-t (if reverse1  js/Math.PI 0))
                              length (* length-t 0.6)]
                          [
                           (+ x (* length (js/Math.cos angle)))
                           (+ y (* length (js/Math.sin angle)))
                           ]))
        bezier-command (fn [[x y :as point] index]
                         (let [[cx1 cy1] (control-point
                                          (get points (- index 1))
                                          (get points (- index 2))
                                          point false)
                               [cx2 cy2] (control-point
                                          point
                                          (get points (- index 1))
                                          (get points (+ index 1)) true)]
                           (str "C " cx1 "," cy1
                                " " cx2 " ," cy2
                                " " x " ," y " ")))
        svg-path (fn [command]
                    (first
                     (reduce (fn [[acc index] point]
                               [ (str acc  (command point index))
                                (+ index 1)])
                             [(m mp) 0] np)))
        ]
    [:svg {:viewBox "0 0 200 200"}
     [:path {:style {:fill "none"
                     :stroke-width ".2px"
                     :stroke "#888"}
             :d (svg-path line-cmd)}]

     (map-indexed (fn [i [x y]]
                    [:circle {
                              :key (str "svg-circle-" i)
                              :cx x
                              :cy y
                              :r 1
                              :fill "pink"}])
          points)

     (map-indexed
      (fn [i [[x1 y1 :as p1]
             [x2 y2 :as p2]
             [x3 y3 :as p3]
             [x4 y4 :as p3]] ]
        [:path {:key (str "grad-gard-svg-path2-" i)
                :d (str "M " x1 "," y1 " L " x3 "," y3)
                :style {:fill "none"
                        :stroke-width ".2px"
                        :stroke "green"}}])
      (partition 4 1 points))

     (map-indexed
      (fn [i [[x1 y1 :as p1]
             [x2 y2 :as p2]
             [x3 y3 :as p3]
             [x4 y4 :as p3]] ]
        [:path {:key (str "grad-svg-path" i)
                :d (str "M " x2 "," y2 " L " x4 "," y4)
                :style {:fill "none"
                        :stroke-width ".4px"
                        :stroke "orange"}}])
      (partition 4 1 points))
     ])
  )

(def ship "M8320 7318 l-1 -1113 -32 -20 c-37 -23 -99 -111 -95 -134 3 -19 68 -53 104 -55 23 -1 24 -3 24 -79 l0 -78 -62 6 c-35 3 -279 19 -543 35 -264 17 -499 31 -522 33 l-43 2 -1 -170 c-1 -93 -3 -162 -6 -152 -4 14 -16 17 -69 17 l-64 0 2 -405 c2 -265 0 -405 -7 -405 -5 0 -136 7 -290 15 -154 8 -297 15 -317 15 l-38 0 0 48 c0 31 7 55 20 72 23 30 26 87 5 117 -49 70 -155 27 -155 -63 0 -16 13 -39 35 -61 26 -26 35 -43 35 -69 l0 -34 -79 0 c-43 0 -106 3 -140 6 l-61 7 0 46 c1 43 3 48 40 71 101 62 139 201 86 315 -78 169 -287 180 -377 19 -38 -67 -46 -126 -25 -197 25 -87 90 -150 171 -167 27 -5 30 -10 33 -49 l3 -43 -53 5 c-29 4 -128 9 -220 13 l-168 7 0 202 c0 111 -3 351 -7 533 l-6 332 -33 0 -34 0 7 -544 6 -544 -79 -25 -79 -25 -3 124 -3 124 -24 0 -25 0 0 216 0 215 58 -6 c31 -3 74 -8 95 -11 l37 -6 0 45 0 44 -47 6 c-140 18 -364 39 -369 35 -2 -3 -5 -22 -7 -44 l-2 -39 83 -9 82 -8 0 -218 0 -218 -42 4 c-24 2 -153 8 -288 14 -135 6 -293 13 -352 16 l-108 7 0 62 c0 60 1 63 27 70 16 4 33 11 39 16 17 14 1 72 -35 131 l-31 49 0 855 0 854 -40 0 -40 0 0 -1013 c0 -558 -2 -1016 -4 -1018 -4 -3 -501 17 -853 35 l-113 5 0 -163 c0 -121 -3 -166 -13 -174 -7 -6 -37 -12 -67 -14 l-55 -3 0 -575 0 -575 -21 53 c-43 105 -117 175 -187 176 l-42 1 -3 -65 c-2 -36 2 -99 8 -140 12 -78 51 -180 69 -180 13 0 15 -137 5 -278 l-7 -92 -105 0 -105 0 7 714 7 713 -23 7 c-13 3 -40 6 -60 6 -54 0 -68 8 -68 41 l0 29 -224 0 -225 0 -3 -41 c-3 -39 -6 -43 -43 -54 -22 -6 -55 -19 -73 -29 l-32 -17 6 -419 7 -420 -29 0 c-55 0 -58 -7 -51 -128 6 -117 23 -176 55 -186 16 -5 20 -19 26 -74 3 -37 6 -82 6 -99 l0 -33 -165 0 -165 0 0 110 c0 89 3 110 14 110 17 0 29 78 24 155 l-3 50 -40 0 c-38 0 -41 -2 -65 -50 -24 -47 -25 -59 -25 -212 l0 -162 -70 -7 -69 -7 57 -51 57 -51 0 -100 c0 -55 -3 -157 -7 -227 l-6 -126 -102 -7 c-56 -4 -120 -4 -142 0 l-41 6 6 372 c4 299 7 374 18 380 10 6 14 34 14 107 l0 100 -35 0 c-29 0 -39 -6 -55 -32 -19 -32 -20 -52 -20 -485 l0 -453 -45 0 c-29 0 -45 4 -45 13 0 6 -14 111 -30 232 -30 217 -30 221 -14 308 9 49 15 119 12 161 -5 109 -26 134 -208 256 -82 55 -152 100 -156 100 -3 0 -3 -8 1 -17 3 -10 13 -76 21 -148 7 -71 16 -147 19 -167 5 -35 3 -38 -19 -38 -20 0 -25 7 -31 37 -9 48 -37 102 -67 129 -12 12 -84 62 -158 111 l-135 90 3 -202 3 -203 -48 -10 c-26 -6 -90 -19 -142 -28 -80 -16 -94 -22 -102 -42 -14 -35 -11 -92 4 -92 7 0 40 -27 74 -59 64 -62 128 -101 202 -121 24 -6 40 -15 35 -20 -5 -4 -88 -74 -184 -154 -142 -118 -181 -146 -206 -146 l-31 0 -7 -187 c-8 -217 2 -334 40 -455 35 -112 123 -294 227 -471 48 -80 87 -149 87 -152 0 -3 61 -100 136 -216 156 -243 269 -430 309 -509 15 -30 29 -56 30 -58 3 -4 517 -45 903 -72 78 -5 206 -15 285 -20 296 -22 843 -57 1227 -80 828 -49 1481 -83 2340 -120 129 -6 336 -15 460 -20 358 -16 1102 -43 1760 -65 1104 -35 2048 -61 3140 -85 245 -5 573 -12 730 -16 l285 -6 23 193 c35 289 86 647 153 1083 135 874 285 1599 427 2061 78 252 108 328 209 512 32 59 28 77 -23 103 -38 20 -402 26 -604 10 -242 -18 -661 -70 -1060 -131 -308 -47 -984 -159 -989 -165 -3 -2 -7 -23 -10 -47 l-6 -42 -195 -36 c-107 -20 -212 -39 -232 -43 l-38 -7 0 996 0 995 -45 0 -44 0 -3 143 -3 142 -260 17 c-143 9 -392 24 -552 34 l-293 18 0 102 0 102 45 6 c24 4 53 15 64 24 18 16 19 20 7 55 -8 21 -27 56 -42 78 -22 32 -33 40 -51 36 l-23 -4 0 1098 0 1099 -50 0 -50 0 0 -1112z m-835 -1438 c165 -11 306 -20 313 -20 9 0 12 -24 12 -85 l0 -85 -67 0 c-51 1 -567 26 -580 29 -2 1 -3 42 -3 91 0 65 3 90 13 90 6 0 147 -9 312 -20z m638 -41 l197 -12 0 -85 0 -85 -92 6 c-51 4 -162 10 -245 13 l-153 7 0 51 c0 28 -3 68 -7 89 l-6 39 54 -6 c30 -3 143 -11 252 -17z m627 -39 c102 -6 204 -13 228 -16 l42 -5 0 -79 0 -79 -27 4 c-16 2 -151 10 -300 16 l-273 12 0 85 0 84 73 -6 c39 -3 155 -10 257 -16z m535 -35 c116 -8 213 -15 218 -15 4 0 7 -34 7 -76 l0 -75 -142 7 c-79 4 -186 10 -238 13 l-95 6 -3 78 c-3 75 -2 77 20 77 13 0 118 -7 233 -15z m-1762 -80 c153 -8 283 -17 288 -20 5 -4 9 -31 9 -62 l0 -56 -132 6 c-73 4 -212 9 -308 12 -236 8 -220 3 -220 75 l0 60 43 0 c23 0 167 -7 320 -15z m657 -34 l135 -6 3 -59 3 -59 -193 7 c-106 4 -217 9 -245 13 l-53 5 0 60 0 59 108 -7 c59 -3 168 -9 242 -13z m525 -26 c149 -8 280 -15 293 -15 20 0 22 -5 22 -57 l0 -56 -167 7 c-93 3 -228 9 -300 13 l-133 6 0 58 c0 33 3 59 8 59 4 0 129 -7 277 -15z m655 -33 l145 -7 3 -54 3 -53 -233 7 c-128 4 -236 9 -240 12 -10 5 -10 97 -1 107 4 3 45 4 92 0 47 -3 151 -9 231 -12z m-1933 -144 c67 -63 -28 -145 -101 -87 -31 25 -34 61 -6 89 27 27 77 26 107 -2z m347 -23 c79 -73 -24 -172 -125 -120 -33 17 -53 57 -44 86 19 59 120 79 169 34z m368 -44 c35 -40 35 -72 0 -112 -76 -85 -234 -10 -192 92 18 42 55 60 114 55 41 -3 55 -9 78 -35z m-2236 -11 c-34 -41 -49 -100 -49 -190 0 -87 13 -143 48 -194 28 -41 27 -41 -23 -21 -51 22 -81 52 -108 110 -56 118 -9 262 101 311 49 22 59 17 31 -16z m164 -10 c110 -86 112 -264 5 -358 -51 -46 -71 -43 -46 6 56 109 45 298 -22 370 l-22 24 25 -7 c14 -4 41 -19 60 -35z m-73 8 c36 -41 48 -88 48 -193 0 -87 -3 -107 -25 -150 -23 -46 -28 -50 -60 -50 -32 0 -37 4 -59 49 -46 92 -38 273 16 336 30 36 52 38 80 8z m2673 -3 c82 -42 60 -153 -33 -170 -99 -19 -181 71 -131 143 29 42 109 55 164 27z m644 -6 c22 -17 27 -28 24 -58 -3 -30 -9 -39 -39 -54 -61 -29 -119 3 -119 67 0 59 82 86 134 45z m-289 -14 c42 -41 31 -105 -22 -133 -33 -18 -59 -14 -92 14 -39 32 -43 85 -9 121 30 32 90 32 123 -2z m-1720 -49 c72 -14 326 -63 565 -110 599 -117 552 -115 1158 -28 l472 68 0 -878 0 -878 -22 -5 c-55 -13 -1223 -225 -1240 -225 -16 0 -18 12 -19 138 -1 75 -5 247 -8 382 l-6 245 -155 22 c-85 12 -269 34 -407 49 l-253 27 0 335 c0 184 -2 337 -5 340 -2 3 -59 7 -125 10 l-120 5 0 269 c0 252 1 269 18 264 9 -3 76 -16 147 -30z m-3533 -192 c99 -7 98 -6 98 -112 l0 -64 -257 7 c-142 4 -264 8 -270 10 -9 3 -13 30 -13 91 l0 87 178 -7 c97 -3 216 -9 264 -12z m426 -20 l92 -6 0 -79 0 -79 -113 0 c-63 0 -155 3 -205 6 l-92 7 0 84 0 84 113 -6 c61 -3 154 -8 205 -11z m437 -19 c105 -4 198 -9 208 -11 14 -5 17 -18 17 -81 l0 -76 -152 6 c-83 4 -193 7 -245 7 l-93 0 0 86 0 86 38 -6 c20 -3 123 -8 227 -11z m458 -22 l67 -6 0 -73 0 -74 -68 0 c-38 0 -104 3 -146 7 l-77 6 2 74 2 73 76 0 c42 0 106 -3 144 -7z m175 -81 c3 -67 1 -72 -18 -72 -18 0 -20 6 -20 76 0 66 2 75 18 72 14 -3 18 -16 20 -76z m-1410 -47 c8 -3 12 -25 12 -62 l0 -58 -267 6 c-148 4 -269 7 -270 8 -2 0 -3 28 -3 62 l0 61 258 -7 c141 -4 263 -8 270 -10z m365 -12 l67 -6 0 -53 0 -54 -199 0 -198 0 -7 38 c-14 88 -23 82 132 82 75 0 167 -3 205 -7z m499 -13 l138 0 0 -61 0 -61 -31 6 c-17 3 -128 6 -245 6 l-214 0 0 62 0 61 107 -6 c58 -4 168 -7 245 -7z m438 -65 l0 -56 -142 3 -143 3 -1 53 -2 52 144 0 144 0 0 -55z m108 8 c-2 -27 -8 -39 -20 -41 -15 -3 -18 4 -18 37 0 35 3 41 21 41 17 0 20 -5 17 -37z m555 11 l127 -6 0 -94 0 -94 -68 0 c-38 0 -137 3 -220 7 l-152 6 0 100 0 99 93 -6 c50 -3 149 -8 220 -12z m-383 -98 c0 -81 -2 -94 -17 -99 -10 -2 -26 -8 -35 -12 -16 -6 -18 0 -18 58 l0 66 -42 3 c-23 2 -43 8 -45 13 -2 6 32 23 74 37 43 14 79 27 81 27 1 1 2 -41 2 -93z m690 -6 l0 -90 -55 0 -55 0 0 90 0 90 55 0 55 0 0 -90z m166 77 c1 -1 0 -41 -3 -89 l-6 -88 -73 0 -74 0 0 96 0 97 77 -7 c43 -4 78 -8 79 -9z m301 -11 c0 0 3 -39 4 -86 l4 -85 -33 1 c-17 0 -72 1 -122 2 l-90 2 0 90 0 89 118 -6 c64 -3 118 -6 119 -7z m241 -12 l82 -6 0 -79 0 -79 -150 0 -150 0 0 38 c0 20 -3 60 -6 88 l-6 52 73 -5 c41 -2 111 -6 157 -9z m174 -89 l0 -80 -33 3 c-18 1 -34 4 -35 5 -2 1 -6 37 -10 80 l-7 78 43 -3 42 -3 0 -80z m-1745 69 c-3 -3 -12 -4 -19 -1 -8 3 -5 6 6 6 11 1 17 -2 13 -5z m1981 -76 l3 -78 -56 0 -55 0 0 81 0 80 53 -3 52 -3 3 -77z m122 -5 l0 -78 -55 3 -55 4 0 74 0 74 55 0 55 0 0 -77z m-3820 -3 c56 -56 -23 -146 -82 -93 -10 9 -18 30 -18 46 0 60 59 88 100 47z m285 -15 c73 -72 -28 -178 -109 -114 -20 16 -26 29 -26 59 0 72 84 106 135 55z m275 -10 c59 -30 68 -98 21 -146 -31 -31 -64 -36 -104 -18 -69 31 -64 140 8 170 30 12 43 11 75 -6z m995 -20 c47 -46 27 -97 -42 -110 -31 -6 -40 -3 -55 15 -25 31 -22 66 7 95 31 32 59 32 90 0z m-514 -24 c20 -20 29 -39 29 -61 0 -48 -47 -90 -100 -90 -56 0 -90 34 -90 90 0 56 34 90 90 90 33 0 48 -6 71 -29z m271 12 c25 -22 25 -104 1 -125 -43 -36 -87 -26 -108 26 -33 78 48 153 107 99z m1076 2 c8 -3 12 -30 12 -90 l0 -85 -77 0 c-43 0 -142 -3 -220 -7 l-143 -6 0 99 0 99 208 -3 c114 -2 213 -5 220 -7z m-492 -97 l-1 -103 -37 -3 -38 -3 0 95 0 95 33 10 c17 5 34 10 38 10 3 1 5 -45 5 -101z m684 7 l0 -85 -55 0 -55 0 0 85 0 85 55 0 55 0 0 -85z m160 -2 l0 -88 -75 3 -75 4 0 84 0 84 75 0 75 0 0 -87z m233 77 l87 0 0 -91 0 -91 -31 6 c-17 3 -74 6 -125 6 l-94 0 0 91 0 92 38 -7 c20 -3 76 -6 125 -6z m310 -7 l97 -6 0 -90 0 -90 -147 7 c-81 4 -149 9 -150 10 -2 1 -6 41 -9 89 l-7 87 59 0 c32 0 103 -3 157 -7z m177 -88 c0 -47 1 -88 3 -92 1 -5 -12 -9 -29 -11 -28 -3 -32 0 -38 29 -3 17 -6 60 -6 95 l0 64 35 0 35 0 0 -85z m238 -17 l3 -98 -56 0 -55 0 0 101 0 100 53 -3 52 -3 3 -97z m122 -9 l0 -100 -52 3 -53 3 -3 98 -4 97 56 0 56 0 0 -101z m-3590 -31 c416 -86 454 -92 585 -95 130 -3 153 -1 326 35 l186 38 7 -81 c3 -44 6 -104 6 -132 l0 -53 -83 0 c-46 0 -118 -3 -159 -6 l-75 -7 -7 -80 c-4 -45 -9 -83 -11 -86 -3 -2 -103 -13 -222 -24 -120 -10 -219 -20 -221 -21 -1 -2 -13 -195 -26 -430 -14 -235 -26 -429 -28 -431 -2 -1 -171 0 -375 3 l-373 5 0 728 c0 577 3 729 13 729 6 0 212 -41 457 -92z m1496 -54 c-3 -8 -15 -14 -26 -14 -18 0 -20 6 -20 59 0 54 2 60 23 63 20 3 22 -2 25 -46 2 -27 1 -55 -2 -62z m-116 28 l0 -58 -124 -22 c-68 -12 -128 -22 -135 -22 -16 0 -15 110 2 111 6 0 62 11 122 24 61 12 116 23 123 24 8 1 12 -17 12 -57z m6939 -677 c32 -16 41 -33 41 -76 0 -74 -108 -109 -164 -53 -76 77 23 181 123 129z m-8911 -415 c-3 -132 -9 -240 -13 -240 -4 0 -7 55 -6 123 1 152 12 357 19 357 2 0 2 -108 0 -240z m-2473 12 c13 -21 27 -53 30 -73 6 -35 5 -36 -25 -43 -18 -3 -46 -6 -62 -6 -27 0 -29 2 -23 33 6 29 -2 43 -89 155 -53 67 -96 124 -96 126 0 3 54 -31 120 -76 77 -50 130 -93 145 -116z m259 -24 c27 -36 28 -39 16 -88 -7 -27 -14 -50 -16 -50 -3 0 -17 6 -32 14 -15 7 -46 17 -68 20 l-41 7 -12 107 c-7 59 -15 132 -18 162 l-6 55 74 -95 c41 -52 87 -112 103 -132z m-443 85 c91 -119 96 -128 87 -157 -10 -31 -12 -32 -104 -46 l-94 -15 0 172 c0 95 3 173 8 172 4 0 50 -57 103 -126z m9539 101 c0 -3 -11 -29 -25 -58 -31 -66 -86 -129 -170 -196 -59 -47 -70 -52 -152 -65 -48 -8 -91 -15 -95 -15 -5 0 -8 56 -8 125 0 91 3 127 13 130 9 4 370 74 430 84 4 0 7 -2 7 -5z m-570 -228 l0 -124 -27 -6 c-16 -3 -156 -26 -313 -51 -157 -25 -296 -48 -310 -50 l-25 -5 3 -116 c6 -192 -26 -316 -103 -402 -25 -27 -61 -57 -80 -66 -29 -14 -393 -78 -402 -72 -3 3 -21 780 -18 784 3 4 1234 230 1258 231 15 1 17 -11 17 -123z m-8583 -337 c-10 -38 -24 -56 -80 -104 -37 -32 -69 -56 -71 -54 -2 2 -6 21 -10 41 -7 36 -5 38 46 71 29 19 69 51 88 71 19 20 36 33 37 29 1 -4 -3 -29 -10 -54z m-175 -133 c3 -43 1 -46 -52 -90 l-55 -45 -9 42 c-5 23 -10 44 -12 45 -1 2 -83 -53 -180 -122 l-178 -126 -78 0 -79 0 178 149 178 148 95 6 c52 3 113 12 135 21 22 8 43 15 46 15 4 1 9 -19 11 -43z m252 -171 c4 -38 10 -80 13 -92 5 -23 4 -23 -106 -23 l-111 0 0 43 c0 43 0 43 93 108 104 74 100 75 111 -36z m-382 55 c4 -40 3 -42 -80 -110 l-84 -70 -81 0 c-44 0 -78 2 -76 4 14 14 304 216 310 216 4 0 9 -18 11 -40z m3748 -118 c0 -110 -51 -222 -124 -271 -41 -27 -235 -56 -242 -36 -3 6 -3 80 -2 165 l3 155 175 21 c96 12 178 22 183 23 4 0 7 -25 7 -57z m-3581 -39 c1 -9 -15 -13 -50 -13 l-52 0 44 34 c43 33 44 33 51 12 3 -11 6 -27 7 -33z m7959 -285 c7 -7 12 -26 12 -43 0 -38 -16 -55 -51 -55 -32 0 -51 21 -51 55 0 14 5 32 12 40 15 18 61 20 78 3z m-458 -207 c0 -34 -4 -51 -15 -55 -12 -4 -15 5 -15 49 0 42 3 55 15 55 11 0 15 -12 15 -49z m-4223 -39 c16 -10 26 -63 15 -79 -4 -7 -22 -15 -39 -19 l-31 -6 -3 51 c-4 44 -1 51 16 54 11 2 22 5 25 5 3 1 11 -2 17 -6z")





(def helicopter1 "M2662.354,189.09c-55.009-8.258-111.382-2.193-166.833,3.904c-82.698,9.091-165.397,18.183-248.095,27.274   c-82.698,9.092-165.397,18.183-248.095,27.274c-41.379,4.549-82.758,9.098-124.137,13.647   c-40.357,4.437-81.006,10.64-121.48,13.054c-17.96,1.071-35.987,1.783-53.916,3.263c-17.731,1.464-35.14,1.16-52.08-4.99   c-0.887-0.322-2-0.278-2.956-0.111c-4.903,0.86-9.875,0.451-14.821,0.889c-9.884,0.875-19.801,1.271-29.716,1.586   c-4.959,0.158-9.937,0.182-14.89,0.461c-4.615,0.259-9.123-0.114-13.788,0.549c-4.206,0.597-8.441,1.314-12.679,1.009   s-8.564-1.756-11.453-4.87c8.737,1.351,17.605,1.844,26.438,1.469c0.717-0.03,1.482-0.083,2.056-0.514   c0.99-0.744,0.941-2.334,0.232-3.349s-1.875-1.592-2.991-2.129c-9.207-4.429-17.85-9.668-27.845-12.183   c-9.712-2.443-19.801-2.899-29.769-2.365c-14.033,0.752-27.169,4.394-39.348,11.217c-7.862,4.404-15.369,9.212-25.086,7.222   c-1.986-0.406-4.75,0.336-5.402,2.712c-1.141,4.163-4.685,4.609-7.704,5.068c-5.362,0.817-10.807,0.759-16.302,0.515   c-19.272-0.86-39.354-7.064-57.96-11.834c-24.298-6.229-48.17-14.135-72.44-20.285c-50.482-12.793-100.619-26.669-150.85-40.409   c-46.411-12.695-92.821-25.39-139.232-38.085l-146.989-40.207c-41.317-11.302-82.635-22.604-123.952-33.906   c-23.373-6.394-46.747-12.787-70.12-19.181l-6.136-1.678V87.44l466.57,122.642c0.465,0.323,1.107,0.487,1.736,0.456   c70.389,18.503,140.764,37.001,211.15,55.503c17.61,4.629,35.221,9.258,52.831,13.887c0.663,0.388,1.339,0.743,2.027,1.064   c-3.77,0.734-4.971,2.744-3.152,6.908c1.449,3.317-14.206,2.255-16.278,2.303c-8.327,0.194-16.654,0.388-24.981,0.582   c-77.851,1.814-155.835-0.658-233.663-2.016c-43.843-0.765-87.685-1.531-131.527-2.296L830.74,283.89   c-48.162-0.841-96.324-1.681-144.486-2.522c-40.343-0.704-80.685-1.408-121.028-2.113c-25.871-0.452-51.741-0.903-77.612-1.355   c-5.936-0.104-11.872-0.207-17.808-0.311l8.889,11.119l36.213,0.632c31.458,0.549,62.916,1.098,94.375,1.647   c43.753,0.764,87.507,1.527,131.26,2.291c48.956,0.855,97.913,1.709,146.869,2.564c47.068,0.822,94.135,1.643,141.203,2.465   c38.087,0.665,76.173,1.33,114.26,1.995c24.796,0.433,49.575,0.975,74.368,1.651c54.758,0,109.386-1.205,164.112,1.532   c2.611,0.13,3.774,0.873,4.392,3.969c1.563,7.828,1.623,7.669,8.716,7.839c1.979,0.047,4.18-0.426,5.864,0.739   c3.974,2.749,7.906,1.151,10.915-0.932c2.538-1.757,4.897-2.628,7.655-2.393c13.385,1.141,26.75,2.606,40.196,2.719   c3.383,0.028,5.016,1.56,5.339,4.557c0.302,2.802,0.161,5.655,0.162,8.485c0,1.469-0.768,2.234-2.228,1.701   c-4.805-1.754-9.865-0.61-14.789-1.446c-10.887-1.849-21.954-2.323-32.789-0.1c-29.736,6.102-59.913,9.743-89.599,15.974   c-20.25,4.25-38.298,13.584-51.564,29.928c-8.024,9.885-17.268,18.404-26.327,27.18c-12.307,11.924-23.813,24.626-35.899,36.753   c-5.332,5.35-10.367,9.809-7.971,18.593c1.269,4.652-0.59,5.48-5.533,3.429c-0.646,1.941-1.827,3.137-3.961,3.787   c-8.416,2.565-16.664,4.856-25.784,3.504c-10.994-1.63-21.742,2.556-32.736,2.769c-2.59,0.05-3.397,2.193-3.813,4.503   c-1.359,7.544-2.311,15.118-1.957,22.802c0.098,2.13-0.362,3.548-2.503,4.804c-16.014,9.402-31.509,19.673-47.111,29.708   c-24.32,15.643-49.735,29.357-74.525,44.149c-16.385,9.777-32.867,19.391-49.221,29.235c-10.592,6.376-20.445,14.094-33.863,15.591   c-15.759,1.757-31.191,6.265-46.872,8.953c-21.901,3.754-43.959,6.599-65.842,10.446c-19.391,3.409-38.64,7.625-57.938,11.554   c-4.302,0.876-8.084,1.012-10.327-3.783c-1.684-3.601-4.614-4.764-8.602-4.162c-7.853,1.185-15.668,2.625-23.499,3.847   c-18.325,2.858-36.447,6.749-54.72,9.818c-4.71,0.791-4.379,2.411-2.723,5.793c2.682,5.48,2.416,5.965-3.604,6.551   c-13.231,1.287-26.082,4.678-39.15,6.865c-18.608,3.114-37.124,6.784-55.757,9.73c-5.75,0.909-12.069,2.345-17.363-1.801   c-1.723-1.349-3.349-1.703-5.358-1.857c-8.009-0.614-10.266-2.533-12.32-10.144c-2.267-8.398-5.581-16.35-10.087-23.801   c-15.11-24.987-29.305-50.492-43.543-75.981c-4.438-7.946-7.292-16.59-12.087-24.294c-3.847-6.182-7.858-12.264-11.607-18.504   c-15.565-25.907-30.667-52.086-46.857-77.625c-13.12-20.698-23.527-43.002-37.153-63.452c-8.634-12.958-14.078-27.761-22.822-40.76   c-5.705-8.481-10.23-17.736-14.938-26.865c-5.759-11.165-13.309-21.375-18.612-32.858c-1.097-2.375-2.816-4.503-4.472-6.565   c-0.998-1.242-3.172-1.759-3.211-3.559c-0.15-6.918-5.106-10.043-10.088-13.106c-2.047-1.259-2.974-2.712-3.079-5.181   c-0.146-3.457-0.731-6.911-1.346-10.328c-0.302-1.679-1.198-3.23-3.34-2.982c-2.026,0.235-2.057,1.962-2.152,3.417   c-0.141,2.158-0.203,4.338-0.069,6.494c0.142,2.298-0.548,3.565-3.049,3.225c-5.086-0.691-10.238-1.088-15.231-2.2   c-3.592-0.8-7.56-1.901-5.125-7.558c0.501-1.164,0.497-3.431,0.385-5.221c-0.297-4.725-5.06-9.048-8.746-7.814   c-4.389,1.469-6.913,11.374-3.771,14.771c2.079,2.248,2.221,4.072-1.197,4.986c-6.164,1.649-12.522,1.547-18.786,1.486   c-3.395-0.033-6.712-1.648-8.616-5.063c-1.589-2.851-4.449-2.686-7.063-2.356c-3.112,0.393-6.16,1.279-9.253,1.857   c-3.087,0.576-5.507,2.449-6.146,5.229c-0.9,3.914-3.398,3.878-6.336,3.869c-9.666-0.031-19.333,0.034-28.999-0.024   c-3.434-0.021-4.666,0.725-3.599,4.698c2.764,10.288,6.884,20.11,9.897,30.29c4.666,15.766,8.813,31.686,13.527,47.438   c5.666,18.934,11.843,37.714,17.519,56.645c4.628,15.435,8.782,31.011,13.261,46.492c4.381,15.144,9.799,29.951,14.756,44.907   c8.78,26.487,14.9,53.812,24.883,79.928c1.02,2.667,0.643,4.41-1.125,6.649c-5.161,6.536-9.004,13.868-12.723,21.346   c-6.453,12.978-11.624,26.477-17.342,39.754c-8.143,18.906-16.7,37.643-24.394,56.728c-8.081,20.045-15.873,40.227-25.572,59.53   c-4.044,8.048-3.359,16.045-3.361,24.277c0,1.412,0.762,2.474,1.737,3.47c23.449,23.941,45.832,49.061,73.667,68.227   c11.742,8.085,23.561,16.177,35.984,23.123c13.933,7.791,29.249,12.634,44.41,17.569c17.71,5.764,36.395,5.326,54.584,8.071   c11.453,1.729,22.935,0.516,34.394-0.043c9.46-0.461,18.866-1.469,28.124-3.637c4.489-1.051,8.922-2.518,13.539-2.912   c4.656-0.397,9.516,0.336,14.172,0.617c23.55,1.427,47.046,2.695,70.642,3.044c3.174,0.047,4.816-1.01,5.774-4.017   c4.517-14.167,11.186-27.546,15.76-41.657c3.346-10.322,8.867-19.91,10.404-30.814c0.139-0.986,0.348-1.369,1.338-1.602   c4.778-1.122,9.414-2.663,14.523-2.082c2.629,0.299,3.62,1.148,4.384,3.6c1.811,5.808,1.573,11.855,2.518,17.759   c2.284,14.28,5.567,28.383,7.136,42.798c1.075,9.874,2.854,9.487-8.653,9.681c-8.327,0.14-16.657,0.048-24.984,0.162   c-1.616,0.022-3.877,0.241-3.616,2.414c0.179,1.495,2.224,1.704,3.79,1.615c0.499-0.029,0.999-0.089,1.498-0.076   c21.479,0.55,42.965,0.908,64.433,1.738c12.499,0.483,24.985,0.424,37.479,0.4c1.743-0.003,4.17,0.221,4.208-2.033   c0.031-1.817-2.161-2.184-3.938-2.132c-0.998,0.029-1.999-0.036-2.998-0.027c-8.498,0.074-16.996,0.173-25.494,0.23   c-6.191,0.042-6.401-0.334-5.547-6.485c1.346-9.696,2.492-19.419,3.808-29.12c1.581-11.646,3.327-23.27,4.828-34.926   c0.55-4.273,4.879-4.057,8.294-4.19c5.317-0.208,10.643-0.093,15.953,0.233c10.659,0.654,21.24,2.16,31.805,3.666   c7.949,1.133,16.135,2.481,24.191,3.584c4.118,0.563,8.25,1.113,12.392,1.451c3.198,0.26,6.62,0.773,8.984,3.193   c3.127,3.2,5.169,7.271,7.152,11.23c9.576,19.151,19.229,38.262,28.613,57.507c1.614,3.311,3.893,4.661,7.319,4.753   c25.464,0.68,50.929,1.336,76.39,2.107c2.652,0.08,4.11-0.989,4.813-3.3c1.793-5.888,4.944-11.194,7.166-16.881   c3.843-9.835,7.358-19.798,10.993-29.714c0.509-1.388,0.741-2.85,2.647-3.172c19.462-3.289,39.579-2.331,58.93,1.2   c20.207,3.687,40.491,6.945,60.836,9.773c12.402,1.723,24.826,3.287,37.269,4.689c40.75,4.593,81.335,11.111,121.94,16.864   c11.501,1.605,23.005,3.464,34.532,4.413c3.598,0.296,5.278,1.134,4.49,5.03c-0.769,3.804,1.522,3.772,4.104,2.795   c1.662-0.629,2.973-1.816,3.836-3.46c1.681,1.38,0.885,4.757,3.977,4.647c3.045-0.108,2.191-2.737,2.763-4.469   c0.451-1.367,1.629-1.646,2.853-1.265c3.253,1.013,6.632,0.508,9.922,0.932c18.007,2.321,36.133,2.989,54.24,3.743   c10.981,0.457,21.996,0.077,32.993,0.226c1.47,0.02,3.763-0.969,4.372,1.215c0.581,2.085-1.333,3.26-2.874,4.2   c-3.128,1.907-4.772,4.271-5.419,8.194c-0.813,4.929-1.502,10.188-4.949,14.368c-0.717,0.869-1.318,2.62-0.193,3.128   c4.336,1.958,2.574,5.876,1.793,8.086c-1.28,3.624,0.408,10.093-7.004,9.648c-1.444-0.087-2.448,1.735-2.691,3.265   c-0.31,1.958,1.642,1.058,2.468,1.594c5.003,3.242,5.086,7.612,0.121,11.115c-3.734,2.634-8.868,4.546-10.843,8.164   c-5.128,9.398-9.41,19.281-8.204,30.699c2.725,25.811,26.638,36.504,44.424,32.47c15.448-3.503,27.032-17.319,28.739-33.15   c1.422-13.185-3.133-24.168-12.703-32.948c-2.337-2.144-3.654-4.111-3.724-7.052c-0.266-11.134-1.086-22.248,0.165-33.411   c0.377-3.362,1.175-5.27,4.459-5.634c2.815-0.312,1.752-2.305,1.797-3.758c0.078-2.489-0.519-6.037,1.856-6.818   c5.575-1.832,3.386-4.964,2.174-8.405c3.267-0.401,6.059-0.259,6.933,3.695c0.607,2.745,2.726,2.267,4.731,2.352   c2.149,0.09,3.097-0.297,3.493-2.827c0.518-3.313,4.233-3.578,5.772-2.166c2.384,2.187,4.79,1.794,7.301,1.9   c2.796,0.118,4.948,0.319,6.004,3.802c0.938,3.09,3.84,4.666,7.279,5.25c17.879,3.037,35.724,2.517,53.564-0.22   c2.301-0.353,4.877-1.64,6.859-0.598c5.613,2.949,11.535,2.792,17.516,2.725c1.569-0.018,2.753,0.426,2.303,2.256   c-2.021,8.222-1.853,17.004-6.088,24.652c-2.056,3.713-1.568,7.708-1.764,11.643c-0.048,0.97-0.124,2.229,1.334,2.146   c5.583-0.317,6.382,4.531,8.75,7.811c5.364,7.43,5.457,16.495,7.91,24.817c1.842,6.251,0.033,12.716,0.68,19.183   c1.679,16.781,21.047,30.763,35.059,30.431c25.106-0.595,38.669-22.887,36.805-43.137c-1.349-14.658-14.871-32.637-35.163-33.757   c-4.245-0.234-8.413,0.849-12.03,2.478c-2.88,1.297-0.948,5.484-1.771,8.267c-0.125,0.424-0.327,0.826-0.493,1.238   c-1.671-15.871-3.975-31.135-5.266-46.505c-0.074-0.881-0.01-2.112,0.728-2.14c4.788-0.178,3.657-3.379,3.776-6.371   c0.073-1.832,0.93-4.087,3.07-4.792c4.774-1.573,2.484-4.12,0.525-5.74c-2.744-2.27-8.854-2.746-1.292-7.463   c2.007-1.252,3.54-2.677,6.122-3.087c7.253-1.153,14.602-0.349,21.825-1.337c2.283-0.313,2.296,0.375,2.551,2.205   c1.074,7.719,1.343,7.874,9.396,8.103c2.831,0.081,5.68-0.095,8.495,0.145c3.883,0.331,5.219-0.527,4.327-4.95   c-1.315-6.523-0.5-6.865,6.27-7.12c9.786-0.37,19.436,0.469,29.202,0.038c10.38-0.458,20.76-0.916,31.14-1.374   c20.76-0.916,41.52-1.832,62.28-2.748c9.964-0.44,19.929-0.879,29.894-1.319c9.549-0.421,19.433-0.148,28.876-1.74   c4.445-0.749,7.949,0.093,12.295,1.048c-1.289,1.019-2.61,2.075-3.427,3.5c-0.817,1.426-1.023,3.33-0.064,4.664   c1.354,1.884,4.166,1.781,6.428,1.267c10.447-2.376,19.711-8.35,30.213-10.905c19.377-4.713,39.709-4.378,59.482-6.211   c40.487-3.753,81.044-9.8,121.467-15.009c20.345-2.594,40.683-5.243,61.024-7.864c19.877-2.561,39.249-6.19,58.897-10.23   c1.016-0.209,2.032-0.419,3.048-0.629c6.037-1.25,5.954-1.593,6.648,4.352c0.093,0.795,0.126,1.97,0.622,2.286   c4.395,2.801,3.193,7.226,3.455,11.236c0.304,4.638,0.491,9.292,1.633,13.832c0.477,1.896,0.106,3.331-1.344,4.927   c-2.675,2.945-1.978,6.567,1.327,8.888c1.356,0.952,2.933,1.6,4.24,2.606c2.375,1.827,2.41,3.434-0.697,4.542   c-3.999,1.427-7.943,1.232-12.097,0.432c-6.047-1.164-12.292-1.528-18.283,0.122c-15.639,4.305-25.366,20.042-22.77,37.849   c2.802,19.213,19.211,32.067,38.651,27.606c3.806-0.873,7.37-1.015,11.16,0.142c4.852,1.481,10.087,1.65,14.81,0.217   c13.761-4.176,21.826-13.924,23.608-28.034c1.657-13.12-2.961-24.236-13.77-32.256c-3.376-2.505-9.411-3.688-2.652-8.994   c0.348-0.273,0.439-0.884,0.628-1.347c2.076-5.07,3.999-10.209,6.264-15.193c2.155-4.742,3.729-9.269-0.187-13.918   c-0.531-0.63-0.663-2.08-0.326-2.873c1.79-4.215,0.463-8.529,0.657-12.783c0.12-2.639-0.415-4.942-2.906-6.401   c-0.819-0.48-2.002-0.794-1.821-2.07c0.213-1.504,1.562-1.479,2.676-1.735c7.603-1.752,15.266-3.289,22.781-5.363   c3.884-1.072,5.19-0.459,5.655,3.779c0.855,7.796,1.604,8.006,9.048,4.672c1.348-0.604,2.681-1.389,3.789-2.356   c6.654-5.807,14.875-9.054,22.24-13.693c2.215-1.395,4.04-1.152,4.652,2.035c0.836,4.354,2.253,8.612,2.856,12.99   c0.534,3.875,2.245,4.176,5.383,2.993c8.125-3.064,14.989-8.349,22.157-12.958c11.708-7.528,23.743-13.312,38.026-12.995   c3.252,0.072,3.255-0.047,5.933-2.333c-9.461,0.122-19.122-1.123-28.104,3.157c-7.918,3.773-15.598,8.044-23.385,12.092   c-2.966,1.542-5.473,0.498-7.722-1.495c-3.119-2.764-2.294-6.495-1.852-9.844c0.368-2.787,3.305-1.994,5.261-2.639   c4.068-1.341,8.862,0.322,12.642-2.687c-1.352-2.04-3.929-0.721-5.011-2.777c0.732-1.572,2.415-2.141,3.715-3.065   c10.664-7.58,21.671-14.693,30.115-24.999c12.983-15.846,17.477-36.794,5.766-54.766c-3.425-5.256-6.45-9.698-11.514-13.589   c-8.084-6.211-16.738-11.678-25.813-16.32c-5.219-2.67-10.561-5.15-16.103-7.065c-5.647-1.951-11.284-4.049-16.469-7.053   c-8.398-4.864-14.652-12.386-18.115-21.46c-2.54-6.654-9.408-10.966-15.444-14.279c-4.292-2.356-8.871-4.189-13.607-5.434   c-4.503-1.184-9.543-1.237-13.474-3.998c-3.724-2.615-7.392-5.312-11-8.086c-6.951-5.344-14.363-10.837-20.445-17.176   c-6.064-6.321-11.965-12.864-18.593-18.639c-7.652-6.667-16.212-12.198-24.738-17.704c-7.612-4.915-15.025-10.534-22.887-14.942   c-5.589-3.134-10.972-6.592-16.209-10.282c-4.847-3.415-9.291-7.436-14.014-11.066c-7.702-5.921-15.734-11.414-24.045-16.444   c-8.427-5.1-17.538-9.197-26.331-13.701c-8.327-4.265-18.204-6.529-27.366-8.074c-11.693-1.971-23.679-3.947-35.51-4.702   c-17.261-1.102-34.881,0.612-52.203,0.822c-11.015,0.133-22.032,0.143-33.047,0.029c-10.587-0.11-21.266,0.196-31.714-1.73   c-1.574-0.29-3.186-0.635-4.515-1.526c-2.802-1.879-2.105-5.752-3.417-8.535c-0.913-1.937,1.179-2.757,2.658-3.503   c0.142-0.072,0.384-0.004,0.48-0.1c0.715-0.709,2.886,2.233,2.507-0.914c-0.226-1.876-0.858-3.655-3.58-2.666   c-1.784,0.648-4.124,0.883-4.368-1.639c-0.632-6.519-5.88-12.267-10.337-16.617c-6.27-6.119-13.724-10.786-20.004-16.78   c-4.469-4.283-10.005-7.895-15.815-10.674c-11.79-5.639-23.817-10.418-36.846-12.588c-4.355-0.726-9.178-1.319-9.335-8.63   c-0.108-5.033-4.383-8.901-10.604-10.097c-6.313-1.214-12.255,1.139-18.353,0.395c-3.607-0.44-7.664,0.074-9.603-4.405   c-4.849-11.202-9.827-22.349-14.798-33.498c-2.079-4.662-4.127-9.034-9.52-11.326c-11.097-4.715-22.253-9.205-33.86-12.467   c-1.999-0.562-2.992-1.308-2.735-3.3c0.931-7.237,1.852-14.476,2.926-21.692c0.478-3.208,2.533-5.143,5.84-5   c3.963,0.172,7.477-1.282,11.113-2.417c7.991-2.494,16.149-4.297,24.552-3.591c31.17,2.62,62.268,0.131,93.358-1.363   c32.241-1.55,64.461-3.654,96.664-5.887c34.678-2.405,69.324-5.264,103.988-7.874c10.946-0.824,21.92-1.305,32.855-2.253   c20.85-1.808,41.702-3.642,62.509-5.88c7.536-0.811,15.211-1.251,23.583-3.574c-4.197-1.035-7.364-0.655-10.508-0.58   c-23.962,0.576-47.819,2.58-71.667,4.921c-17.079,1.676-34.274,1.288-51.408,2.028c-20.627,0.891-41.234,2.353-61.868,2.976   c-25.969,0.784-51.96,0.818-77.935,1.464c-19.131,0.476-38.25,1.702-57.366-0.288c-1.845-0.192-4.231-0.202-4.393-2.199   c-0.198-2.428,2.503-2.385,4.136-2.418c13.827-0.281,27.481-2.684,41.28-3.25c22.651-0.928,45.285,0.693,67.936,0.492   c5.763-0.051,12.158-1.006,17.245,1.581c4.172,2.122,8.061,2.313,12.099,1.968c79.982-6.828,161.004-18.891,241.39-28.514   c82.681-9.897,165.361-19.795,248.042-29.692s165.361-19.795,248.042-29.692c31.832-3.811,63.664-7.621,95.496-11.432   C2670.592,190.408,2666.477,189.709,2662.354,189.09z M339.978,632.403c5.192-2.588,10.822-4.279,16.145-6.624   c12.877-5.675,22.506,1.237,32.321,8.087c-21.371,4.145-42.994,6.155-64.334,10.983   C328.723,639.755,333.92,635.422,339.978,632.403z M340.365,838.864c-1.412,0.588-2.852,0.593-4.261-0.337   c-7.836-5.174-15.576-10.595-21.525-17.879c-5.417-6.632-11.084-12.95-15.512-20.62c-5.146-8.912-7.26-18.899-12.377-27.757   c-2.392-4.14-3.085-9.998-3.639-15.194c-1.584-14.863-2.729-29.801,0.716-44.562c3.417-14.641,8.181-28.707,17.224-41.119   c2.463-3.38,4.886-6.921,7.18-11.355c3.554,5.539,3.923,10.971,4.797,16.305c1.42,8.657,3.033,17.284,4.691,25.899   c0.474,2.464,0.009,4.271-1.579,6.354c-10.873,14.261-13.66,29.759-6.894,46.741c2.318,5.818,3.628,11.996,6.505,17.664   c1.099,2.165,3.237,3.494,4.422,3.206c6.843-1.664,9.753,2.567,11.017,7.672c4.243,17.146,8.694,34.28,10.225,51.973   C341.46,837.07,341.708,838.305,340.365,838.864z M340.791,695.386c-0.83,0.026-1.666-0.031-2.489,0.054   c-2.863,0.295-6.22,3.1-8.294,1.089c-1.797-1.742-1.729-5.512-2.269-8.426c-1.976-10.668-4.775-21.19-5.522-32.089   c3.099,3.316,3.935,7.583,5.687,11.402c4,8.719,9.834,16.347,14.457,24.696C343.784,694.682,343.442,695.304,340.791,695.386z    M405.3,825.491c-9.427,9.221-19.75,16.965-32.043,22.016c-6.376,2.62-11.867,0.805-17.306-2.392   c-1.042-0.613-0.99-1.65-1.127-2.604c-1.721-11.971-3.168-23.99-5.238-35.9c-1.134-6.527-2.161-13.053-3.063-19.613   c-0.899-6.53-1.053-6.509,6.402-6.511c3.377-0.938,6.677,1.232,10.164,2.079c7.704,1.873,15.472,0.026,23.168,0.918   c1.726,0.2,2.757,0.417,3.832,2.212c5.965,9.958,11.357,20.2,16.476,30.611C408.346,819.93,408.389,822.469,405.3,825.491z    M1322.155,960.422c-3.101-0.49-6.302-0.444-9.459-0.465c-2.954-0.02-4.356-1.273-4.011-4.282   c1.271-11.091,7.806-19.944,12.602-29.531c0.545-1.09,1.722-1.634,2.999-1.234c1.695,0.531,1.389,2.038,1.448,3.333   c0.419,9.14,0.322,18.312,1.703,27.32C1328.454,960.317,1326.189,961.06,1322.155,960.422z M1488.84,977.575   c-2.564,1.469-2.886-1.313-4.114-2.337c-4.467-3.721-7.536-8.727-11.543-12.908c-3.034-3.165-5.546-7.78-2.891-13.478   c3.026-6.496,7.17-12.314,10.185-18.77c0.847-1.813,2.541-2.052,4.242-1.877c1.719,0.177,1.818,1.623,1.981,2.982   c1.644,13.688,3.306,27.373,5.128,42.426C1492.188,974.823,1490.844,976.427,1488.84,977.575z M2114.876,860.315   c0.545-1.191,0.787-3.08,2.896-2.838c1.66,0.19,2.143,1.521,2.435,2.799c0.895,3.909,4.083,6.892,4.431,11.167   c-0.269,0.825-0.571,1.767-0.883,2.707c-0.793,2.393-0.706,6.119-4.076,5.807c-2.988-0.277-4.37-3.543-4.629-6.415   C2114.655,869.149,2112.872,864.695,2114.876,860.315z" )

(defn stat2 []
  (let [points [
                [0 10] [10 40] [40 30] [60 5]
                [90 45] [120 10] [150 45] [200 10]]
        m (fn [[x y]]
            (str  "M" " "
                  x
                  ","
                  y
                  " "))
        line-cmd (fn [acc [x y] index]
                   )


        bezier-command (fn [[cx cy] [cxx cyy] [x y]]
                         (str "C "
                              cx
                              ","
                              cy
                              " "
                              cxx
                              " ,"
                              cyy
                              " "
                              x
                              " ,"
                              y
                              " "))
        line-len (fn [[x1 y1] [x2 y2]]
                   (let [lx (- x2 x1)
                         ly (- y2 y1)]
                     (js/Math.sqrt
                      (+
                       (* lx lx)
                       (* ly ly)))
                     ))
        angle (fn [[x1 y1] [x2 y2]]
             (let [lx (- x2 x1)
                   ly (- y2 y1)]
               (js/Math.atan2 ly lx)))
        curve-points
        (map (fn [quadro]
               (let [[start-p [x1 y1 :as start] start-n _] quadro
                     [_ end-p [x2 y2 :as end] end-n] quadro
                     start-len (* 0.3 (line-len start-p start-n))
                     start-angle (angle start-p start-n)
                     end-len (* 0.15 (line-len end-p end-n))
                     end-angle (+ js/Math.PI (angle end-p end-n))
                     projection (fn [[x y] angle len]
                            [
                             (+ x (* (js/Math.cos angle) len))
                             (+ y (*  (js/Math.sin angle) len))])
                     control-point-1 (projection start start-angle start-len)
                     control-point-2 (projection end end-angle end-len)]
           [[start  control-point-1]
            [end  control-point-2]]))
       (partition 4 1
                  (conj (into [[0 20]] points) [210 20])))
        svg-path-data (fn [[mp & np :as points]]
                        (reduce (fn [acc [x y]]
                                  (str acc  "L " x "," y " "))
                                 (m mp)
                                 np))
        svg-path (fn [paths]
                   [:path {:style {:fill "none"
                                   :stroke-width ".8px"
                                   :stroke "#000000"}
                           :d (svg-path-data paths)}])
        draw-curve (str (m [0 0])  " "
                        (apply str (map  (fn [[[_ c1] [end c2]]]
                                           (bezier-command c1 c2 end) ) curve-points))
                        " L 200,0 z")
        a (js/console.log draw-curve)
        ]
    [:svg {:viewBox "0 0 200 200"}
     [:defs
      [:linearGradient {:id "grad"
                        :x1 0
                        :x2 1
                        :y1 1
                        :y2 0}
       [:stop {:style {:stop-color "hsl(30,80%,80%)"
                       }
               :offset "0%"}
        ]
       [:stop {:style {:stop-color "hsl(45,80%,80%)"
                       :stop-opacity "15"}
               :offset "50%"}
        ]
       [:stop {:style {:stop-color "hsl(60,80%,80%)"}
               :offset "100%"}
        ]]]
 ;;    [svg-path points]
;;     (map (fn [[line-points1 line-points2]]
 ;;           (svg-path line-points2) ) curve-points)
;;     (map (fn [[line-points1 line-points2]]
 ;;           (svg-path line-points1) ) curve-points)
     [:path {:d draw-curve
             :style {:fill "url(#grad)"
                     :stroke-width ".2px"
                     :stroke "hsl(120,20%,60%)"}}]
     ]


    ))
